{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{395:function(s,t,a){\"use strict\";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"docker-入门\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#docker-入门\"}},[s._v(\"#\")]),s._v(\" docker 入门\")]),s._v(\" \"),a(\"p\",[s._v(\"是一个容器化技术， 相当于一个虚拟机，比虚拟机清凉高效，可以秒启动。\")]),s._v(\" \"),a(\"p\",[s._v(\"可以理解为简易的系统。\")]),s._v(\" \"),a(\"p\",[s._v(\"官方文档：https://docs.docker.com/\")]),s._v(\" \"),a(\"p\",[s._v(\"镜像下载网站：https://hub.docker.com/\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"docker 能做什么？\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"对文件、资源、网络隔离\")]),s._v(\" \"),a(\"li\",[s._v(\"变更管理、日志记录\")]),s._v(\" \"),a(\"li\",[s._v(\"写时复制\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1、基本组成\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1、基本组成\"}},[s._v(\"#\")]),s._v(\" 1、基本组成\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"（1）、image（镜像）\")])]),s._v(\" \"),a(\"p\",[s._v(\"mysql 安装包相当于一个镜像。\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"（2）、container（容器）\")])]),s._v(\" \"),a(\"p\",[s._v(\"通过镜像运行的服务，一个镜像可以运行\"),a(\"strong\",[s._v(\"多个服务\")]),s._v(\"。\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"（3）、repository（仓库）\")])]),s._v(\" \"),a(\"p\",[s._v(\"存放镜像文件，分为私有和共有，docker hub 等。\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2、linux-安装-docker\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2、linux-安装-docker\"}},[s._v(\"#\")]),s._v(\" 2、linux 安装 docker\")]),s._v(\" \"),a(\"p\",[s._v(\"环境：CentOS 7 Linux\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 查看运行状态\")]),s._v(\"\\nsystemstl status docker\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 安装\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -fsSL https://get.docker.com \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"bash\")]),s._v(\" -s docker --mirror Aliyun\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 安装 docker compose\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -L \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"https://github.com/docker/compose/releases/download/1.28.2/docker-compose-'),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -s\"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -m\"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v('\"')]),s._v(\" -o /usr/local/bin/docker-compose\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 打开权限\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" +x /usr/local/bin/docker-compose\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 启动\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" docker restart\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 查看版本\")]),s._v(\"\\ndocker-compose --version\\n\")])])]),a(\"p\",[s._v(\"切换下载源, 位置：\"),a(\"code\",[s._v(\"vi /etc/docker/daemon.json\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language-json extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v('\"registry-mirrors\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\":\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"http://hub-mirror.c.163.com\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\")])])]),a(\"p\",[s._v(\"通过 docker-compose 控制多个服务，首先需要编写一个配置文件。\\n进入 \"),a(\"code\",[s._v(\"home\")]),s._v(\" 目录\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" docker-compose.yml\\n\")])])]),a(\"p\",[s._v(\"添加一些配置：\\n这是添加一个启动mongo 的命令\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-yml extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-yml\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"version\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'3'\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"services\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"mongo1\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"               \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 名称\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"image\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" mongo\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"4\")]),s._v(\"      \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 版本\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"ports\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"              \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 映射端口\")]),s._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"10050\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"27017\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"environment\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"        \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 设置用户名密码    \")]),s._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"MONGO_INITDB_ROOT_USERNAME\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" admin\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"MONGO_INITDB_ROOT_PASSWORD\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"981102\")]),s._v(\"\\n\")])])]),a(\"p\",[s._v(\"启动\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"docker-compose up -d\\n\")])])]),a(\"h2\",{attrs:{id:\"_3、docker-仓库\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3、docker-仓库\"}},[s._v(\"#\")]),s._v(\" 3、docker 仓库\")]),s._v(\" \"),a(\"p\",[s._v(\"先到 docker hub 注册账号之后，安装docker 的服务器上登录：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 登录\")]),s._v(\"\\ndocker login\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 提交本地本地文件\")]),s._v(\"\\ndocker commit \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"[\")]),s._v(\"comtainer id\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"]\")]),s._v(\" lw96/msql:1.0\\n\")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}